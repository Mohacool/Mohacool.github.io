<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="icon" href="data:;base64,=">
    <title>Guitar Chord Finder | Whats My Chord? </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">  

    <link rel="https://cdn.rawgit.com/mfd/f3d96ec7f0e8f034cc22ea73b3797b59/raw/856f1dbb8d807aabceb80b6d4f94b464df461b3e/gotham.css">
    
    <meta name="google-site-verification" content="6cHLOKBNlN3OeiZ5HNE_aQmF7HLsOcDwZ8uualXMuWs" />

    <meta name="description" 
        content="What chord is this? Is there an easier way to play it? Enter it into the virtual fretboard to find out. 
        The chord finder will identify and show you different ways to play it.">

    <meta name="keywords" content="guitar, guitar chord, chord analyzer, chord namer, chord name finder, 
    chord identifier, reverse chord finder, chord name, chord symbol, name, find, identify">

    <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png?">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png?">
    <link rel="manifest" href="./site.webmanifest?">
    <link rel="mask-icon" href="./safari-pinned-tab.svg?" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <div class="night_circle" onclick="night()"></div>
    <!-- <div id="rightbar"></div> !-->

    <!--
    <script type="text/javascript">
        console.log(screen.width);
        if (screen.width <=700){
            document.location="mobile.html";
        }
    </script>
    -->

    <!--
    <style>
        body,
        
        .bg {
          
          background-image: url("background.png");
          height: 300%;
          background-position: center;
          background-repeat: repeat;
          background-size: cover;
          
          
        }
      </style>
      -->

    <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"></script>

    <script src=https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.3.0/math.min.js></script>

    <script type="text/javascript">
        //alert("Your screen resolution is: " + window.screen.width * window.devicePixelRatio + "x" + window.screen.height * window.devicePixelRatio);
        //alert("True resoltuion" + window.screen.width + "by" +window.screen.height);


        var curr_diag_clicked;
        var small_device = false;


        var chord_num_selected = 0;

        var dark_theme = true;
        
        const sharpRegExp = /#/g;


        var matches = [];


        // current Notes
        var curr_notes = ["E","B","G","D","A","E"];
        var curr_notes_num = [0,0,0,0,0,0];

        // Set global variables
        var twelve_notes = ['C','C#','D','D#','E','F','F#','G','G#','A','Bb','B'];
        var open_notes = ["E","B","G","D","A","E"];
        var open_octs = [4,3,3,3,2,2];
        var notePaths = ["/notes/E4.mp3","/notes/B3.mp3","/notes/G3.mp3","/notes/D3.mp3","/notes/A2.mp3","/notes/E2.mp3"];


        // Create 2 empty matrices
        var note_matrix = math.zeros(6,16);
        var oct_matrix = math.zeros(6,16);

        /* Take in a chord such as ["0","3","2","1","-1","-1"] -> ["E","C",'G','E']

            Also remove muted strings 
        */
        function chordify(chord_nums){

            var chord_names = [];
            //console.log(chord_nums);
            
            for (i=0;i<6;i++){

                if (chord_nums[i]!=-1){
                    
                    var note = note_matrix.get([5-i,chord_nums[i]]);
                    chord_names.push(note);
                }
                
            }


            return chord_names;
        }
        
        function night(){

            if (dark_theme){
                const colorscheme = document.querySelector(':root');
                colorscheme.style.setProperty('--white', '#3a3a3a'); 
                colorscheme.style.setProperty('--black', '#fdf7e9');
                colorscheme.style.setProperty('--gray', '#fdf7e9');
                colorscheme.style.setProperty('--gray-hover', '#fdf7e9');

                $("#fretborder").css({"background-color":"#fdf7e9"});
                
                
                
                dark_theme = false;
            }
            else{
                const colorscheme = document.querySelector(':root');
                colorscheme.style.setProperty('--white', '#fdf7e9'); 
                colorscheme.style.setProperty('--black', '#232323'); 
                colorscheme.style.setProperty('--gray', '#3a3a3a ');
                colorscheme.style.setProperty('--gray-hover', '#595959');

                $("#fretborder").css({"background-color":"var(--white)"});
                dark_theme = true;
            }
                   
        }


        // If the note itself is clicked then place it back to open frets
        function notey(string){
            

            var open_num = 90 + string;
            console.log("***************** reseting",open_num)
            clicky(open_num,false);
        }

        function x_it(string_num){
            

            //$(".chords.chord0").css({"border-right-width":"0px"});
            //$(".chords.chord1").css({"margin-left":"0px"});
            //alert(".open.string"+string_num);
            var clicky_num = 90 + string_num;
            console.log(".note_circle.string"+string_num);
            //$(".note_circle.string"+string_num).css({"visibility":"hidden"});

            $(".note_circle.string"+string_num).css({"background-color":"#fdf7e9"});
            //$(".open.string"+string_num).css({"visibility":"hidden"});

            $(".open.string"+string_num).css({"background-color":"#fdf7e9"});

            $(".text_circle.string"+string_num).text("X");
            $(".text_circle.string"+string_num).css({"color":"#3a3a3a"});

            notePaths[string_num-1] = "";
        }
        

        // Allow keyboard movements
        function getKeyAndMove(e){	
            
            if (curr_diag_clicked==null){
                curr_diag_clicked=0;
            }			

            curr_chord_clicked = 0;

            $(".chord_diagram").css({"border-top":"0px solid var(--white)"});
            var key_code=e.which||e.keyCode;
            switch(key_code){
                case 37: //left arrow key
                    if (curr_diag_clicked-1>=1){
                        diagramClick(curr_diag_clicked-1);
                        $(".chord_diagram.chord"+curr_diag_clicked).css({"border-top":"3px solid var(--white)"});
                    }
                    
                    break;

                case 38: //Up arrow key
                    
                    break;

                case 39: //right arrow key
                    
                    
                    let next = curr_diag_clicked+1;
                    
                    if ($(".chord_diagram.chord"+next).attr('src')!=""){
                        diagramClick(curr_diag_clicked+1);
                        $(".chord_diagram.chord"+curr_diag_clicked).css({"border-top":"3px solid var(--white)"});
                    }
                    

                    break;

                case 40: //down arrow key
                    
                    break;						
            }
			}

        // Change the number of global variable to show which chord will be displayed
        function chord_display_change(num){

            $(".chords.chord0").addClass('anim');
            $(".chords.chord1").addClass('anim');

            //alert("CURR DIAG"+curr_diag_clicked);

            //pp
            var temp = curr_diag_clicked+1;

            var curr_state = curr_notes_num.slice().reverse();

            $.getJSON("/notes/data.json", function(data) {
                
                //alert(matches[chord_num_selected]);
                let chord_lst = data[matches[chord_num_selected]];

                //alert(chord_lst);
                for (var i = 0;i < chord_lst.length; i++){

                    console.log("nig"+ curr_state+"compare to",JSON.stringify(chord_lst[i]));
                    if  (JSON.stringify(curr_state) == JSON.stringify(chord_lst[i])) {
                        //alert('found at '+i);
                        let index = i+1;
                        console.log("nig GOTTT at "+i);
                        $(".chord_diagram.chord"+index).css({"opacity":"1"});
                    }
                }

            }
            )




            curr_diag_clicked=0;

            for (var i = 1;i < 6; i++){
                if (i!=temp){
                    $(".chord_diagram.chord"+i).css({"opacity":"0.7"});
                }
                
                
            }
            //alert(curr_diag_clicked);

            $(".chord_diagram.chord"+num).css({"opacity":"0.7"});

            chord_num_selected = num;
            fillDiagrams();



            

            

            
        }

        function diagramClick(diagnum){

           
            curr_diag_clicked = diagnum;
            //alert(curr_diag_clicked);

            $(".chord_diagram.chord"+diagnum).css({"opacity":"1"});

            $(".chord_diagram").css({"border-top":"0px solid var(--white)"});

            for (var i = 1;i < 6; i++){
                if (i!=diagnum){
                    $(".chord_diagram.chord"+i).css({"opacity":"0.7"});
                }
            }


            console.log("CLICK at ",diagnum);
            console.log($(".chord_diagram.chord"+diagnum).attr("src"));

            // Takes ex: /notes/chord_images/cropped/evenmore/G69-0.png
            var chord_pos = $(".chord_diagram.chord"+diagnum).attr("src").split("/").length;
            var chord = $(".chord_diagram.chord"+diagnum).attr("src").split("/")[chord_pos-1];
            chord = chord.split('.').slice(0, -1).join('.')
            // ------> G69-0



            var chord_name = chord.split("-")[0];
            var chord_index = chord.split("-")[1];

            //alert(chord_index);

            $.getJSON("/notes/data.json", function(data) {

                chord_name = chord_name.replace('ov','/');

                const inverseSharpRegExp = /sharp/g;
                chord_name = chord_name.replace(inverseSharpRegExp,'#');
                chord_name = chord_name.replace('mMaj','mmaj');

                var chord_nums = data[chord_name][chord_index]

                var note_oct = [];
                var note = [];

                chord_nums = chord_nums.reverse();

                console.log("%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%",chord_nums);
                reset(false);
                console.log("RESETTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT");
                console.log("RESET placing",chord_nums);
                for (var i = 0;i < 6; i++){
                    console.log("*******************************************",i);

                    if (chord_nums[i]==-1){ // If its muted 
                        
                        note_oct.push("");
                        note.push("-");
                        clicky(91+i,true,false,false);
                        console.log("9666666666666666666666666666666 - i");
                        console.log(96-i);
                        console.log("RESET: click",91+i,"once");
                        
                    }
                    else if(chord_nums[i]==0){
                        console.log('RESET:open on the ',i+1,'th string');
                        note_oct.push(oct_matrix.get([i,chord_nums[i]]));
                        note.push(note_matrix.get([i,chord_nums[i]]));

                        console.log("RESET curr",curr_notes_num);
                        if (curr_notes_num[i]==0){
                            
                        }
                        else{
                            clicky(96-i,true,false,false);
                        }
                        
                        //clicky(96-i,true,false,false);
                        console.log("i twice",i);
                        console.log("RESET: click",96-i,"once");
                        
                        
                    }
                    else{
                        note_oct.push(oct_matrix.get([i,chord_nums[i]]));
                        note.push(note_matrix.get([i,chord_nums[i]]));
                        var note_num = 15*i+chord_nums[i];
                        console.log("``````````````````````````",note_num);

                        clicky(note_num,true,false,false);

                        console.log("RESET: click",note_num,"once");
                        
                    }
   
                }
                
                
                //console.log("mask",chordify(chord_nums.reverse()));
                //console.log("mask",note,note_oct);

                //pop
                for (var i = 0;i < 6; i++){
                    var note_name = note[i]+note_oct[i];

                    console.log(note_name);
                    if (note_name !="-"){

                        if (note_name[1]=="#"){
                            note_name = note_name[0] + 's' + note_name[2];
                        }
                        if (note_name.substring(0,2) == "Bb"){
                            //console.log(note_name = "As" + note_name[2]);
                            note_name = "As" + note_name[2];
                        }

                        var notePath = "/notes/" + note_name + '.mp3'
                        //console.log(notePath);
                        notePaths[i]=notePath;

                    }

                }
                

            })

            alert(curr_notes_num);

            

            
            

        }

        function new_reset(){
            curr_notes_num = [0,0,0,0,0,0];
            curr_notes = ["E", "B", "G", "D", "A", "E"];
            notePaths = ["/notes/E4.mp3", "/notes/B3.mp3", "/notes/G3.mp3", "/notes/D3.mp3", "/notes/A2.mp3", "/notes/E2.mp3"];
            
            for (var i = 1;i < 7; i++){
                console.log("diag",i);

                // Add note name to circle
                $(".text_circle.string"+i).text(curr_notes[i-1]);

                // Adjust size and aligning
                $(".text_circle.string"+i).css({"font-size":"20px"});
                $(".text_circle.string"+i).css({"font-size":"20px"});
                $(".text_circle.string"+i).css({"margin-left":"-2px"});
                $(".text_circle.string"+i).css({"line-height":"26.5px"});        
                if (["A","D"].includes(curr_notes[i-1])){
                    $(".text_circle.string"+i).css({"margin-left":"-3.3px"});
                }
                else if (curr_notes[i-1]=="G"){
                    $(".text_circle.string"+i).css({"margin-left":"-3.5px"});
                    $(".text_circle.string"+i).css({"margin-top":"-3.5px"});
                }

                $(".note_circle.string"+i).css({"left":"-35px"});
                
                
                //cat

            }
            
            

            // Hide chord diagrams
            $(".chord_diagram").hide();
            $(".chords").hide();
            $(".input_msg").hide();

            // Show the spinner
            $(".spinner").css({"visibility":"visible"});
        }

        // Set the notes back to open 
        function reset(refresh=true){

            
            console.log("RESET now with refresh=",refresh);

            if (refresh==true){
                // Reset all notes
                clicky(91,false,true);
                clicky(92,false,true);
                clicky(93,false,true);
                clicky(94,false,true);
                clicky(95,false,true);
                clicky(96,false,true);
                
            }
            else{
                clicky(91,false,true,false);
                clicky(92,false,true,false);
                clicky(93,false,true,false);
                clicky(94,false,true,false);
                clicky(95,false,true,false);
                clicky(96,false,true,false);

            }
            



            // Hide chord diagrams
            $(".chord_diagram").hide();
            $(".chords").hide();

            if (refresh==true){
                //jil
                 // Hide chord names
                for (var i = 0;i < 6; i++){
                    let name = ".chords.chord"+i;
                    console.log("clearing",name);
                    
                    $(name).text("");
                    
                }
                

            }
           


        }

        function doesFileExist(urlToFile)
            {
                var xhr = new XMLHttpRequest();
                xhr.open('HEAD', urlToFile, false);
                xhr.send();

                if (xhr.status == "404") {
                    //console.log("File doesn't exist");
                    return false;
                } else {
                    //console.log("File exists");
                    return true;
                }
            }

        /*
            Fill the chord images 
        */

        function fillDiagrams(){
            
            console.log("LOL matches",matches);

            var all_notes = ['C','Csharp','D','Dsharp','E','F','Fsharp','G','Gsharp','A','Bb','B','Db','Eb','Gb','Ab','Asharp'];
            

            
            // Current chord to display
            display_chord = matches[chord_num_selected]; 


            // If the note is simple A,B,C.... make it Amajor

            // If there is a match
            if (matches.length !=0){

                //console.log("ERRORR: matches=",matches);

                
                //alert(display_chord);
                var matches_fix = display_chord.replace(sharpRegExp,'sharp');
                console.log("@@@@@@@@@ - IF all notes has ",matches_fix);

                // If its simple A,B,C add major to it 
                if (all_notes.includes(matches_fix)){

                    var note = display_chord+"major"; //Make it major
                    
                    if (note.includes('/')){
                        note = note.replace('/','ov');
                    }

                    // Replace # with Sharp
                    if (note.includes('#')){
                        note = note.replace(sharpRegExp,'sharp');
                    }
                    
                }
                else{
                    note = display_chord;
                    if (note.includes('/')){
                        note = note.replace('/','ov');
                    }

                     // Replace # with Sharp
                     if (note.includes('#')){
                        note = note.replace(sharpRegExp,'sharp');
                    }

                    

                    
                    
                    // If chord is something minor
                    const regex = RegExp('.*m'+"$");

                    if (regex.test(note) && !note.includes('dim')){
                        console.log("TRUE");
                        note = note.replace('m','minor');

                    }


                
                    
                }
            

                // Clear the previous chord diagrams 
                for (var i = 0;i < 6; i++){
                    $(".chord_diagram.chord"+i).attr("src","");
                }
                
                // Cycle through the 5 slots and fill them with the first 5 available chords

                // This whole thing is hard_coded

                // Loop through 5 chord shapes for the chord 
                for (var i = 0;i < 5; i++){
                    
                    
                    var chord_num = i+1;
                    

                    // Find the image location (find_file checks 3 locations)
                    img_name = find_file(note,i);

                    // 
                    if (img_name){
                        $(".chord_diagram.chord"+chord_num).attr("src",img_name);
                    }
                    else{
                        break;
                    }
                }

           
            

                function find_file(note,number){

                    var img_name = "/notes/chord_images/cropped/"+note+"-"+number+".png";
                    

                    if (!doesFileExist(img_name)){
                        
                        var img_name = "/notes/chord_images/cropped/more/"+ note+"-"+number+".png";

                        if (!doesFileExist(img_name)){
                            
                            var img_name = "/notes/chord_images/cropped/evenmore/"+ note+"-"+number+".png";

                            if (!doesFileExist(img_name)){
                                
                                return false;
                            }
                        }

                    }
                    console.log("Found it -",number);
                    return img_name;

                }
            
            

            }
            // If there's no match
            else{
                $(".input_msg").css({"display":"block"});
                $(".input_msg").text("No chords matched");

                $(".input_msg").css({"margin-left":"300px"});
                $(".input_msg").css({"padding-top":"10px"});

                $(".chords").hide();
                $(".chord_diagram").hide();
            }

            
            

                
            
            


            

            
            
            
        }

        function doStuff(input_chord,clear=true,reset=false){

            
            
            var all_notes = ['C','C#','D','D#','E','F','F#','G','G#','A','Bb','B','Db','Eb','Gb','Ab','A#'];

            // Set Manipulation functions
            function isIn(s)          { return elt => s.has(elt); }
            function contains(s1, s2) { return [...s2] . every(isIn(s1)); }
            function eqSet(a, b)      { return contains(a, b) && contains(b, a); }
            matches = [];
            var normal_matches = [];
            var set_matches = [];

            var chords_of_matches = [];



            // clear the divs of any chord names unless 
            
            if (clear==true){

                for (var i = 0;i < 6; i++){
                    let name = ".chords.chord"+i;
                    
                    alert('ohoh');
                }
                //lpo
                
                
            }

            
                
            

            
            

            // reset the opacity of the chords
            

            for (var i = 1;i < 6; i++){
                console.log("reset");
                $(".chord_diagram.chord"+i).css({"opacity":"0.7"});
                //$(".chord_diagram.chord"+i).css({"filter":"opacity(70%)"});
            }

            for (var i = 1;i < 6; i++){
                console.log("opacity of"+i+" is"+ $(".chord_diagram.chord"+i).css("opacity"));
                console.log("opacity of"+i+" is"+ $(".chord_diagram.chord"+i).css("filter"));
                
                //$(".chord_diagram.chord"+i).css({"filter":"opacity(70%)"});
            }


            

            $.getJSON("/notes/data.json", function(data) {
                let count = 0;


                var curr = chordify(input_chord);
                
                // Removes "" from notes
                var filter_note = curr_notes.filter(function (el) {
                            return el != "";
                });

               

                for (var chord in data){

                    data[chord].forEach(function (item) {


                        let curr_chord = JSON.stringify(item);
                        var chordified = chordify(item);
                       
                        
                        

                        var input_set = new Set (filter_note);

                        var check_set = new Set (chordified);

                       

                        //console.log(filter_note);

                        
                        

                        //console.log("Chord Name "+ chord );
                        //console.log(filter_note);
                        //console.log(chordified);

                        

                        
                        // Check note_nums against each other
                        var match = JSON.stringify(input_chord.slice().reverse()) == JSON.stringify(item);

                        //console.log(match);


                        var match_set = eqSet(input_set,check_set);

                        var temp_chord = chord;
                        
                        chord = chord.replace('minor','m');
                        chord = chord.replace('major','');

                        

                        if (match){
                            console.log("Matched with",chord); 
                            console.log(JSON.stringify(item));
                            if (!(normal_matches.includes(chord) || (set_matches.includes(chord) )))  {
                                normal_matches.push(chord);  
                            }
                            if (set_matches.includes(chord)){
                                normal_matches.push(chord);

                                // If found in both, always put in match
                                let index = set_matches.indexOf(chord);
                                set_matches.splice(index, 1);
                                console.log(set_matches);
                            }

                            console.log("````````````````````` chord matched is"+chord);
                            //var chord_index = data[chord].indexOf(JSON.stringify(item));

                            

                            var chord_index = 0
                            
                            console.log("TEmp chord",temp_chord);

                            const regex = RegExp('.*m'+"$");
                            
                            if (all_notes.includes(temp_chord)){
                                console.log("?GADS?FS?D?D");
                                temp_chord = temp_chord +"major";
                            }
                            else if (regex.test(temp_chord)&& !note.includes('dim')){
                                console.log("TRUE");
                                temp_chord = temp_chord.replace('m','minor');

                            }  
                            
                            for (var i = 0;i < data[temp_chord].length; i++){
                                if (JSON.stringify(item)==JSON.stringify(data[temp_chord][i])){
                                    chord_index = i;
                                    console.log("got");
                                    
                                }
                            }
                            console.log("````````````````````` its the ",chord_index);

                            var index = chord_index +1;


                            // Make the existing chord black 
                            
                            curr_diag_clicked = index;
                            $(".chord_diagram.chord"+index).css({"opacity":"1"});

                            console.log(".chord_diagram.chord"+index);
                             
                        }

                        if(match_set){

                            
                            var root = filter_note.slice(-1)[0];
                            if (!(normal_matches.includes(chord) || (set_matches.includes(chord) )))  {

                                if (!(chord.includes('/') && !(chord.includes('/'+root)))){
                                    set_matches.push(chord);  
                                    console.log("SET Matched with",chord, "lowest note",root);
                                    console.log(input_set);
                                    console.log(check_set);
                                    console.log(chordified);
                                    console.log(item);
                                }

                            }
                            
                            
                            
                            
                            
                            

                        }

                       


                        count +=1;


                    });
                }
                //console.log("went through",count,"chords");

                /*
                // Merge the normal matches and the set matches together
                if (normal_matches.length != 0){
                    matches.push(normal_matches);
                }
                if (set_matches.length !=0){
                    //console.log('set matches is'+set_matches);
                    matches.push(set_matches);
                }
                */

                matches = normal_matches.concat(set_matches);
                
                console.log("full",matches);
                //console.log(filter_note);
                
                console.log(matches.length);
                console.log("new =========================");

                console.log('pol MATCHES ARE',matches);


                
                
                
                // Place the chord names
                for (var i = 0;i < matches.length; i++){

                    let name = ".chords.chord"+i;
                    
                    console.log('pol place',matches[i],'at',name);


                    // Do any chord name changes here
                    if (matches[i].includes('mmaj')){
                        matches[i] = matches[i].replace('mmaj','mMaj');
                    }



                    var to_super = ['6','9','69','11','13','add9','sus4','sus2','sus2su4','dim','maj7#5','7b9','#m69'];


                    var super_temp;

                    function super_detected(){

                        
                        var count = 0;
                        for (var x = 0;x < to_super.length; x++){
                            
                            var sup = to_super[x];
                            console.log('super',sup);
                            if (matches[i].includes(sup)){

                                console.log('super detected',matches[i]);
                                
                                var cut_index = matches[i].indexOf(sup);
                                var first = matches[i].substring(0,cut_index);
                                var second = matches[i].substring(cut_index);

                                super_temp = first+"<sup>"+second+"</sup>";
                                //$(name).html(first+"<sup>"+second+"</sup>");
                                
                            }
                            count = 1;
                            
                            
                        }
                        if (count==0){return false}
                        else{return true}
                    }
                    


                    

                    console.log("text at CHANGE ",name,"to",matches[i]);


                    
                    $(name).html(matches[i]);
                    // ADD SUPERSCRIPTS
                    
                    
                    /*
                    if (super_detected()){
                        
                    }
                    else{
                        console.log('text at !!!!!! AFTER Im changing');
                        
                        $(name).html(matches[i]);

                        console.log("text at empty",empty);
                    }
                    */
                    

                    
                    
                    

                    
                    //lolp
                    
                    

                    

                    
                    
                    console.log(matches);
                }

                console.log("text at 1 is",$(".chords.chord0").text());
                console.log("text at 2 is",$(".chords.chord1").text());
                console.log("text at 3 is",$(".chords.chord2").text());
                console.log("text at 4 is",$(".chords.chord3").text());

                //lol
                //$("#chord_diagram_container").css({"background-color":"#fdf7e9"});


                // Show the chords and hide spinner if its not reset time
                if (reset==false){
                    console.log("diag NO RESET CLICKED, i'm showing face");
                    $(".spinner").css({"visibility":"hidden"});
                    $(".chord_diagram").show();
                }
                

                
                fillDiagrams();
                

                

                
            });
        

        }

        // Plays single note sound, adds the note and note paths (for sound) to lists
        function playNote(string,note_name){

            if (note_name[1]=="#"){
                note_name = note_name[0] + 's' + note_name[2];
            }
            if (note_name.substring(0,2) == "Bb"){
                //console.log(note_name = "As" + note_name[2]);
                note_name = "As" + note_name[2];
            }

            var notePath = "/notes/" + note_name + '.mp3'

            // update NotePaths to later play the whole chord
            notePaths[string-1] = notePath;
            console.log(notePath);

            


            $("#myAudio").attr("src",notePath);
            var x = document.getElementById("myAudio"); 
            //x.play()
        }


        // Play chord

        function play_chord(){

            
            var snd1  = new Audio();

            var snd0  = new Audio();
            var src0  = document.createElement("source");
            src0.type = "audio/mpeg";
            src0.src  = notePaths[0];
            snd0.appendChild(src0);

            var snd1  = new Audio();
            var src1  = document.createElement("source");
            src1.type = "audio/mpeg";
            src1.src  = notePaths[1];
            snd1.appendChild(src1);

            var snd2  = new Audio();
            var src2  = document.createElement("source");
            src2.type = "audio/mpeg";
            src2.src  = notePaths[2];
            snd2.appendChild(src2);

            var snd3  = new Audio();
            var src3  = document.createElement("source");
            src3.type = "audio/mpeg";
            src3.src  = notePaths[3];
            snd3.appendChild(src3);

            var snd4  = new Audio();
            var src4  = document.createElement("source");
            src4.type = "audio/mpeg";
            src4.src  = notePaths[4];
            snd4.appendChild(src4);

            var snd5  = new Audio();
            var src5  = document.createElement("source");
            src5.type = "audio/mpeg";
            src5.src  = notePaths[5];
            snd5.appendChild(src5);


            function start1() { snd1.play();}
            function start2() {snd2.play();}
            function start3() {snd3.play();}
            function start4() {snd4.play();}
            function start0() {snd0.play();}
            

            var timeGap = 300;

            //console.log("playing",notePaths);
            
            snd5.play();setTimeout(start4, timeGap);setTimeout(start3, timeGap+50);setTimeout(start2, timeGap+100);
            setTimeout(start1, timeGap+150);setTimeout(start0, timeGap+200);

            snd0,snd1,snd2,snd3,snd4,snd5 = [],[],[],[],[],[];
        }

        /* 
        This function deals with all the clicks on the fretboard
        The open strings are 91-96
        The muted strings are 101-106
        The rest of the notes are 1-90
        */ 
        function clicky(note_num,playsound=true,reset=false,refresh=true){

            alert("clicked"+note_num);
            

            $('.chords.chord0').removeClass('anim')
            $('.chords.chord1').removeClass('anim')
            //$(".chords.chord0").css({"border-right-width":"30px"});
            //$(".chords.chord1").css({"margin-left":"0px"});
            

            //iol
            
            

            // Hide the chord names 
            if (refresh){
                for (var i = 0;i<6;i++){
                    $(".chords.chord"+i).text("");
                    $(name).text("");
            }
            }
            


            
            // Unhide the chord names and chord diagrams when something is clicked

            if (reset==false){

                console.log("diag Im showing myself because reset isn't clicked");
                $(".chord_diagram").show();
                $(".chords").show();
            }
           
           
            
            // Move the first chord over 70px 
            //$(".chords.chord0").css({"border-right-width":"70px"});

            

            //$(".chords.chord0").delay(0).animate({"border-right-width":"70px"},1000);
            //$(".chords.chord0").delay(0).animate({"border-right-width":"80px"},1000);

            // Hide the input message when something is clicked
            $(".input_msg").css({"display":"none"});
            
            
            

            //console.log(note_num);
            //console.log("string",Math.floor(note_num/15));
            var string = Math.floor(note_num/15);
            //console.log("fret",note_num - (string-1)*15);
            if (note_num>90){
                var string = note_num - 90;
                //console.log("string is now",string);
                var fret = 0;
            }
            else{
                var string = Math.floor(note_num/15)+1;
                var fret = note_num - (string-1)*15;

                // Side case for any notes on the 15th fret
                if (note_num%15 == 0){
                    var string = Math.floor(note_num/15);
                    var fret = note_num - (string-1)*15;
                }
            }

            // Make the notes visible 
            $(".note_circle.string"+string).css({"visibility":"visible"});
            $(".open.string"+string).css({"background-color":"#595959"});

            $(".note_circle.string"+string).css({"background-color":"#323232"});
            $(".text_circle.string"+string).css({"color":"#fdf7e9"});

            

            console.log("SHOWWWWWWWWWWWWWWWW",".note_circle.string"+string);

            // If same note clicked again

            // doesnt work right now

            //console.log("REAL STRING"+string);
            //console.log("REAL FRET" + fret);

            let note_name = note_matrix.get([string-1,fret]); // Fret is not -1 because open string is at pos 0 
            let oct = oct_matrix.get([string-1,fret]);

            let note = note_name + oct;

            // Make the note smaller if its #/b

            
            
            

            let string_name = "string"+ string;


            
            
            // Update current notes
            curr_notes[string-1] = note_name;

            // Change the note name on string
            if (note_name.endsWith('b')){
                note_name = note_name.slice(0,-1)+'\u266D'
            }
            if (note_name.endsWith('#')){
                note_name = note_name.slice(0,-1)+'\u266F'
            }

            // Add note name to circle
            $(".text_circle."+string_name).text(note_name);

            // Change aligning of certain note names
            if (["G","C"].includes(note_name)){
                $(".text_circle."+string_name).css({"margin-left":"-3.5px"});
            }
            else if (["A","D"].includes(note_name)){
                $(".text_circle."+string_name).css({"margin-left":"-3.3px"});
            }
            else{
                $(".text_circle."+string_name).css({"margin-left":"-2px"});
            }

            // Change text size/aligning for # and b notes
            if (note_name.length == 2){
                //console.log("small");
                $(".text_circle."+string_name).css({"font-size":"80%"});
                $(".text_circle."+string_name).css({"margin-left":"-4px"});
                $(".text_circle."+string_name).css({"line-height":"27px"});

            }
            else{
                $(".text_circle."+string_name).css({"font-size":"100%"});
                
                
                
            }
            

            // Move the note circle to the correct spot
            let x_pos = 8 + (fret-1)*44.4;
            if (fret==0){
                x_pos = -35;
            }

            // Move note circle
            $(".note_circle."+string_name).css({"left":x_pos+"px"});

            // Show the note
            $(".note_circle."+string_name).css({"visibility":"visible"});

            console.log("made "+".note_circle."+string_name+"visible");

            // Hide the X again
            $(".x."+string_name).css({"opacity":"0"});
            $(".x:hover."+string_name).css({"opacity":"1"});

            if (fret==-0){ fret = 0; }

            var x_clicked = false;

            if (inRange(note_num,91,96)){
                
                var string_num = note_num-91;
                console.log("curr note is",curr_notes_num[string_num]);
                if (curr_notes_num[string_num] == 0 && reset==false){
                    console.log("@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@");

                    // Create the x
                    x_it(string_num+1);
                   
                    x_clicked = true;
                }
                else{
                    $(".note_circle.string"+string_num+1).css({"visibility":"visibility"});
                }
                
            }
            
            // Updating the curr_notes if not x, and if x
            if (x_clicked == false){
                // Update current note numbers
                curr_notes_num[string-1] = fret;
            }
            else{
                curr_notes_num[string-1] = -1;
                curr_notes[string-1] = "";
            }
            

            

            //console.log(curr_notes);
            //console.log(curr_notes_num);
            //console.log(notePaths);

            
            

            console.log(curr_notes_num);

            console.log("==========================",note_num,"clicked");

            

            if (refresh==true){

                console.log("diag I will show the spinner and hide the chord diagrams");
                $(".spinner").css({"visibility":"visible"});
                $(".chord_diagram").hide();

                console.log("diag im passing in RESET=",reset);
                doStuff(curr_notes_num,reset);
            }
            var is_iPad = navigator.userAgent.match(/iPad/i) != null;
            
            /*
            if (small_device){

                console.log("fed: about to go through all notes");
                for (var i = 1;i < 7; i++){
                    console.log("fed: i="+i);
                    $(".text_circle.string"+i).css({"margin-top":"-7px"});
                    console.log("fed: curr_notes[i]="+curr_notes[i]);
                    console.log("fed: curr_notes"+curr_notes);
                    if (curr_notes[i].endsWith('b') || curr_notes[i].endsWith('#')){
                        alert('moving flats and sharps');

                        $(".text_circle.string"+i).css({"margin-top":"-9px"});

                        if (is_iPad){
                            alert('ipad');
                            $(".text_circle").css({"letter-spacing":"-0.2em"});
                            alert("spacing"+$(".text_circle").css("letter-spacing"));
                        }
                        else{
                            $(".text_circle").css({"letter-spacing":"0"});
                        }
                    }
                    
                    
                    

                }
            }
            */
            
            
            if (playsound && refresh==true){
                playNote(string,note);
            }

            
            

            

            
        }

        // Deal with muted strings
        function muted(string){
            
            let string_name = "string"+string;
            
            $(".note_circle."+string_name).css({"visibility":"hidden"});

            //console.log("muted string is",string);

            curr_notes[string-1] = "";
            notePaths[string-1] = "";
            curr_notes_num[string-1] = -1;

            //console.log(curr_notes);
            //console.log(curr_notes_num);
            doStuff(curr_notes_num);

            $(".x."+string_name).css({"opacity":"1"});

        }

        function fill_note_matrix(matrix){    
            // Given a note return the next note 
            function nextNotes(notes){
                let next_notes = [];
                for (var i = 0;i < 6; i++){
                    note = notes[i];
                    if (note=="B"){
                        next_notes.push("C");
                    }
                    else{
                        next_notes.push(twelve_notes[twelve_notes.indexOf(note)+1]);
                    }
                }
                return next_notes;
            }

            // Create the note_matrix 

            // Fill the first column of the matrix
            note_matrix.subset(math.index(math.range(0,6),[0]),open_notes);

            var all_notes = [['E','B','G','D','A','E']]; // Alternate tuning change

            // Create an array of all the notes
            for (i=1;i<16;i++){
                all_notes.push(nextNotes(all_notes[i-1]));
            }
            for (i=1;i<16;i++){
                note_matrix.subset(math.index(math.range(0,6),[i]),all_notes[i]);
            }
        }

        function fill_oct_matrix(matrix){  
            // var all_octs = [[4,3,3,3,2,2]]; // Alternate Tuning
            var all_octs = [];
            for (x=0;x<6;x++){
                
                let first_note = open_notes[x][0];
                let dist = 12 - twelve_notes.indexOf(first_note);

                let first_oct = open_octs[x];

                var octs = [];
                for (i=0;i<16;i++){
                    octs.push(first_oct);
                    dist -=1;
                    if(dist==0){
                        first_oct+=1;
                        dist= 12;
                    }


                }
                matrix.subset(math.index([x],math.range(0,16)),[octs]);
                //console.log("this",matrix.subset(math.index([x],math.range(0,15))));
                //console.log("this then",[octs]);

            }
            

        }
        function inRange(x, min, max) {
            return ((x-min)*(x-max) <= 0);
        }

       
        

        $(document).ready(function(){

            window.onorientationchange = function() { 
            var orientation = window.orientation; 
                switch(orientation) { 
                    case 0:
                    case 90:
                    case -90: window.location.reload(); 
                    break; } 
            };

            // If the page has scrolling
            if ($('body').css('overflow').includes("scroll")){
                let body_height = $(document).height();
                $('body').css({"height":body_height+"px"});
            }
            

            alert($(window).width());

            function isMobile() {
                try{ document.createEvent("TouchEvent"); return true; }
                catch(e){ return false; }
            }

            alert("Mobile?"+ isMobile());

            function myFunction() { 
                if((navigator.userAgent.indexOf("Opera") || navigator.userAgent.indexOf('OPR')) != -1 ) 
                {
                    alert('Opera');
                }
                else if(navigator.userAgent.indexOf("Chrome") != -1 )
                {
                    //alert('Chrome');
                }
                else if(navigator.userAgent.indexOf("Safari") != -1)
                {
                    alert('Safari');

                }
                else if(navigator.userAgent.indexOf("Firefox") != -1 ) 
                {
                    alert('Firefox');
                    
                    //$("#nodegrid").css({"top":"5px"});
                    /*
                    $(".note_circle").css({"top":"-798px"});
                    $(".open").css({"top":"-610px"});

                    $('.nudge').css({"margin-top":"5px"});
                    */
                    
                }
                else if((navigator.userAgent.indexOf("MSIE") != -1 ) || (!!document.documentMode == true )) //IF IE > 10
                {
                alert('IE'); 
                }  
                else 
                {
                alert('unknown');
                }
            }
            myFunction();


            // Input message
            $(".input_msg").delay(1000).animate({ opacity: 1 }, 1200);

            $(".chords.chord0").css({"color":"#232323"});


            // Add 5% for every 10% decrease

            // Ratio = 1 padding = 341 + 
            // Ratio = 1/2 padding = 2*(341) + (1/2)*680
            
            var start_percentage = ((screen.width - 680)/2)/screen.width;

            //alert(start_percentage);


            var blah = 100 - (window.devicePixelRatio*100);
            var blahblah = (blah/10)*2.5;

            //alert("ratio" + blahblah);

            var full = 25 + blahblah;
            
            var zoom = window.screen.width/1366;
            

            //alert("zoom by" + zoom + "cuz your screen is "+ window.screen.width);
            

            var account_for_zoom = (1 - zoom)*screen.width;
            
        

            //alert("account for %:" + account_for_zoom);

            var total_move = start_percentage*100 + account_for_zoom;


            
            //BIG CHANGE _ REMOVED
            //$("#fretboard").css({'padding-left': total_move+'%'});

            


            // Zoom
            

            //$("#fretboard").css({'padding-left': full+'%'});



            //alert("Ali phone is"+ screen.width);

            /* 
            $('.square').css({"visibility":"visible"});
            $('.nudge').css({"visibility":"hidden"});

            */
           
            // If its small device or its Mobile device then remove hovers and make touchit
            if (screen.width<=1007 || isMobile()){
                
                small_device = true;
                alert('yesd');
                alert(screen.height);

                $('.square').css({"visibility":"visible"});

                $('.nudge').css({"visibility":"hidden"});
                $('.nudge').css({"cursor":"default"});

                $('.note_circle').css({"cursor":"default"});

                $('.open').css({"cursor":"default"});
                
            }
            if (screen.width<=926){
               

            }
            if (screen.width<=500){
                //lock rotation
            }
            
 
            
            //console.log("--------------"+top);
            
            // Create note and oct matrices
            fill_note_matrix(note_matrix);
            fill_oct_matrix(oct_matrix);

        });

    </script>
    
    
    

</head>

    <body onkeydown='getKeyAndMove(event)'>
  
        <!-- <div class="bg"></div> !-->
        <div id="header">
            <span class="page_title">[ ] WHATS MY CHORD</span> 
            
            <!-- <div id="headerElements">[ ] WHATS MY CHORD</div> -->
            <!--
            <div class="logo_container">

                <img src="title.png" id="logo_container">
            </div>
            -->

        </div>
        

        <audio id="myAudio">
            <source src="" type="audio/mp3">
        </audio>

        <!-- <img src="title.png" id="title"> !-->

        
        

        <div id="everything">
            
            
            <div id="fretboard">

                
                
                <div class="play-button" onclick="play_chord()">
                    <a href="#" class="round-button"><i class="fa fa-play fa-2x"></i></a>
                </div>
                <div class="reset" onclick="new_reset()">CLEAR</div>
                
                
                <div id="fret_full">
                    
                    
                    <img src="fretboard.PNG" height="160px" width="671px" id="black">
                    
                    

                    <div class="box"></div>
                    <div class="box" style="top:-57px"></div>
                    <div class="box" style="top:-100px"></div>
                    <div class="box" style="top:-143px"></div>
                    <div class="box" style="top:-187px"></div>
                    <div class="box" style="top:-228px"></div>
                    
                    
                    <div id="nodegrid">
                        <div class='nudge' style='display:inline-block' onclick="clicky('1')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('2')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('3')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('4')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('5')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('6')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('7')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('8')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('9')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('10')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('11')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('12')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('13')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('14')"></div>
                        <div class='nudge' style='display:inline-block;left:16px;' onclick="clicky('15')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('16')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('17')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('18')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('19')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('20')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('21')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('22')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('23')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('24')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('25')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('26')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('27')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('28')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('29')"></div>
                        <div class='nudge' style='display:inline-block;left:16px;' onclick="clicky('30')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('31')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('32')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('33')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('34')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('35')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('36')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('37')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('38')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('39')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('40')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('41')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('42')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('43')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('44')"></div>
                        <div class='nudge' style='display:inline-block;left:16px;' onclick="clicky('45')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('46')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('47')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('48')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('49')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('50')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('51')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('52')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('53')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('54')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('55')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('56')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('57')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('58')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('59')"></div>
                        <div class='nudge' style='display:inline-block;left:16px;' onclick="clicky('60')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('61')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('62')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('63')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('64')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('65')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('66')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('67')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('68')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('69')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('70')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('71')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('72')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('73')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('74')"></div>
                        <div class='nudge' style='display:inline-block;left:16px;' onclick="clicky('75')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('76')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('77')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('78')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('79')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('80')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('81')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('82')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('83')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('84')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('85')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('86')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('87')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('88')"></div>
                        <div class='nudge' style='display:inline-block' onclick="clicky('89')"></div>
                        <div class='nudge' style='display:inline-block;left:16px;' onclick="clicky('90')"></div>

                    </div>


                    <span class="x string1" style="top:-436px" onclick="muted('1')">X</span>
                    <span class="x string2" style="top:-436px" onclick="muted('2')">X</span>
                    <span class="x string3" style="top:-435px" onclick="muted('3')">X</span>
                    <span class="x string4" style="top:-434px" onclick="muted('4')">X</span>
                    <span class="x string5" style="top:-433px" onclick="muted('5')">X</span>
                    <span class="x string6" style="top:-430px" onclick="muted('6')">X</span>

                    <span class="open string1" onclick="clicky('91')"></span>
                    <span class="open string2" onclick="clicky('92')"></span>
                    <span class="open string3" onclick="clicky('93')"></span>
                    <span class="open string4" onclick="clicky('94')"></span>
                    <span class="open string5" onclick="clicky('95')"></span>
                    <span class="open string6" onclick="clicky('96')"></span>


                    <span class="note_circle string1" onclick="notey(1)">
                        <span class="text_circle string1">E</span>
                    </span>
                    <span class="note_circle string2" onclick="notey(2)">
                        <span class="text_circle string2">B</span>
                    </span>
                    <span class="note_circle string3" onclick="notey(3)">
                        <span class="text_circle string3" style="margin-left:-3.5px">G</span>
                    </span>
                    <span class="note_circle string4" onclick="notey(4)">
                        <span class="text_circle string4" style="margin-left:-3.3px">D </span>
                    </span>
                    <span class="note_circle string5" onclick="notey(5)">
                        <span class="text_circle string5" style="margin-left:-3.3px">A</span>
                    </span>
                    <span class="note_circle string6" onclick="notey(6)">
                        <span class="text_circle string6">E</span>
                    </span>

                    <div id="holder">
                        <div class="square" ontouchstart="clicky('1')"></div>
                        <div class="square" ontouchstart="clicky('2')"></div>
                        <div class="square" ontouchstart="clicky('3')"></div>
                        <div class="square" ontouchstart="clicky('4')"></div>
                        <div class="square" ontouchstart="clicky('5')"></div>
                        <div class="square" ontouchstart="clicky('6')"></div>
                        <div class="square" ontouchstart="clicky('7')"></div>
                        <div class="square" ontouchstart="clicky('8')"></div>
                        <div class="square" ontouchstart="clicky('9')"></div>
                        <div class="square" ontouchstart="clicky('10')"></div>
                        <div class="square" ontouchstart="clicky('11')"></div>
                        <div class="square" ontouchstart="clicky('12')"></div>
                        <div class="square" ontouchstart="clicky('13')"></div>
                        <div class="square" ontouchstart="clicky('14')"></div>
                        <div class="square" ontouchstart="clicky('15')"></div>
                        <div class="square" ontouchstart="clicky('16')"></div>
                        <div class="square" ontouchstart="clicky('17')"></div>
                        <div class="square" ontouchstart="clicky('18')"></div>
                        <div class="square" ontouchstart="clicky('19')"></div>
                        <div class="square" ontouchstart="clicky('20')"></div>
                        <div class="square" ontouchstart="clicky('21')"></div>
                        <div class="square" ontouchstart="clicky('22')"></div>
                        <div class="square" ontouchstart="clicky('23')"></div>
                        <div class="square" ontouchstart="clicky('24')"></div>
                        <div class="square" ontouchstart="clicky('25')"></div>
                        <div class="square" ontouchstart="clicky('26')"></div>
                        <div class="square" ontouchstart="clicky('27')"></div>
                        <div class="square" ontouchstart="clicky('28')"></div>
                        <div class="square" ontouchstart="clicky('29')"></div>
                        <div class="square" ontouchstart="clicky('30')"></div>
                        <div class="square" ontouchstart="clicky('31')"></div>
                        <div class="square" ontouchstart="clicky('32')"></div>
                        <div class="square" ontouchstart="clicky('33')"></div>
                        <div class="square" ontouchstart="clicky('34')"></div>
                        <div class="square" ontouchstart="clicky('35')"></div>
                        <div class="square" ontouchstart="clicky('36')"></div>
                        <div class="square" ontouchstart="clicky('37')"></div>
                        <div class="square" ontouchstart="clicky('38')"></div>
                        <div class="square" ontouchstart="clicky('39')"></div>
                        <div class="square" ontouchstart="clicky('40')"></div>
                        <div class="square" ontouchstart="clicky('41')"></div>
                        <div class="square" ontouchstart="clicky('42')"></div>
                        <div class="square" ontouchstart="clicky('43')"></div>
                        <div class="square" ontouchstart="clicky('44')"></div>
                        <div class="square" ontouchstart="clicky('45')"></div>
                        <div class="square" ontouchstart="clicky('46')"></div>
                        <div class="square" ontouchstart="clicky('47')"></div>
                        <div class="square" ontouchstart="clicky('48')"></div>
                        <div class="square" ontouchstart="clicky('49')"></div>
                        <div class="square" ontouchstart="clicky('50')"></div>
                        <div class="square" ontouchstart="clicky('51')"></div>
                        <div class="square" ontouchstart="clicky('52')"></div>
                        <div class="square" ontouchstart="clicky('53')"></div>
                        <div class="square" ontouchstart="clicky('54')"></div>
                        <div class="square" ontouchstart="clicky('55')"></div>
                        <div class="square" ontouchstart="clicky('56')"></div>
                        <div class="square" ontouchstart="clicky('57')"></div>
                        <div class="square" ontouchstart="clicky('58')"></div>
                        <div class="square" ontouchstart="clicky('59')"></div>
                        <div class="square" ontouchstart="clicky('60')"></div>
                        <div class="square" ontouchstart="clicky('61')"></div>
                        <div class="square" ontouchstart="clicky('62')"></div>
                        <div class="square" ontouchstart="clicky('63')"></div>
                        <div class="square" ontouchstart="clicky('64')"></div>
                        <div class="square" ontouchstart="clicky('65')"></div>
                        <div class="square" ontouchstart="clicky('66')"></div>
                        <div class="square" ontouchstart="clicky('67')"></div>
                        <div class="square" ontouchstart="clicky('68')"></div>
                        <div class="square" ontouchstart="clicky('69')"></div>
                        <div class="square" ontouchstart="clicky('70')"></div>
                        <div class="square" ontouchstart="clicky('71')"></div>
                        <div class="square" ontouchstart="clicky('72')"></div>
                        <div class="square" ontouchstart="clicky('73')"></div>
                        <div class="square" ontouchstart="clicky('74')"></div>
                        <div class="square" ontouchstart="clicky('75')"></div>
                        <div class="square" ontouchstart="clicky('76')"></div>
                        <div class="square" ontouchstart="clicky('77')"></div>
                        <div class="square" ontouchstart="clicky('78')"></div>
                        <div class="square" ontouchstart="clicky('79')"></div>
                        <div class="square" ontouchstart="clicky('80')"></div>
                        <div class="square" ontouchstart="clicky('81')"></div>
                        <div class="square" ontouchstart="clicky('82')"></div>
                        <div class="square" ontouchstart="clicky('83')"></div>
                        <div class="square" ontouchstart="clicky('84')"></div>
                        <div class="square" ontouchstart="clicky('85')"></div>
                        <div class="square" ontouchstart="clicky('86')"></div>
                        <div class="square" ontouchstart="clicky('87')"></div>
                        <div class="square" ontouchstart="clicky('88')"></div>
                        <div class="square" ontouchstart="clicky('89')"></div>
                        <div class="square" ontouchstart="clicky('90')"></div>
                        

                    </div>
                    

                </div>
                
                
                <div id="chord_name_container">

                    <div id="new_container">
                        <div class="input_msg">Input a chord to get started</div>
                    </div>

                    <div class="chords chord0" onclick="chord_display_change(0)"> </div>
                    <div class="chords chord1" onclick="chord_display_change(1)"></div>
                    <div class="chords chord2" onclick="chord_display_change(2)"></div>
                    <div class="chords chord3" onclick="chord_display_change(3)"></div>
                    <div class="chords chord4" onclick="chord_display_change(4)"></div>
                    <div class="chords chord5" onclick="chord_display_change(5)"></div>
                    
                    
                </div>

                <div id="chord_diagram_container">
                    <!-- 
                    <div class="item">1</div>
                    <div class="item">2</div>
                    <div class="item">3</div>
                    <div class="item">4</div>
                    <div class="item">5</div>
                    -->
                    <div class="spinner">
                        <div class="bounce1"></div>
                        <div class="bounce2"></div>
                        <div class="bounce3"></div>
                      </div>

                    <img class="chord_diagram chord1" style="left:37.5px" src="" onclick="diagramClick(1)">
                    <img class="chord_diagram chord2" style="left:157.5px" src="" onclick="diagramClick(2)">
                    <img class="chord_diagram chord3" style="left:277.5px" src="" onclick="diagramClick(3)">
                    <img class="chord_diagram chord4" style="left:397.5px" src="" onclick="diagramClick(4)">
                    <img class="chord_diagram chord5" style="left:517.5px" src="" onclick="diagramClick(5)">
                </div>



                
                
            </div>   
            
        </div>

    
        
    </body>


</html>
